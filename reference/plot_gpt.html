<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot grouped proportional tables — plot_gpt • sjPlot</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot grouped proportional tables — plot_gpt"><meta name="description" content="Plot grouped proportional crosstables, where the proportion of
               each level of x for the highest category in y
               is plotted, for each subgroup of grp."><meta property="og:description" content="Plot grouped proportional crosstables, where the proportion of
               each level of x for the highest category in y
               is plotted, for each subgroup of grp."><meta property="og:image" content="https://strengejacke.github.io/sjPlot/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sjPlot</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.8.16.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-regression-tables" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Regression Tables</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-regression-tables"><li><a class="dropdown-item" href="../articles/tab_model_estimates.html">Classical Regression Models as HTML Table</a></li>
    <li><a class="dropdown-item" href="../articles/tab_mixed.html">Mixed Models as HTML Table</a></li>
    <li><a class="dropdown-item" href="../articles/tab_bayes.html">Bayesian Models as HTML Table</a></li>
    <li><a class="dropdown-item" href="../articles/tab_model_robust.html">Robust Estimation of Standard Errors, Confidence Intervals and p-values</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-regression-plots" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Regression Plots</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-regression-plots"><li><a class="dropdown-item" href="../articles/plot_model_estimates.html">Plotting Regression Coefficients</a></li>
    <li><a class="dropdown-item" href="../articles/plot_marginal_effects.html">Plotting Marginal Effects</a></li>
    <li><a class="dropdown-item" href="../articles/plot_interactions.html">Plotting Marginal Effects of Interactions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-plot-and-table-customization" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Plot and Table Customization</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-plot-and-table-customization"><li><a class="dropdown-item" href="../articles/blackwhitefigures.html">Creating Black and White Figures</a></li>
    <li><a class="dropdown-item" href="../articles/custplot.html">Customize Plot Appearance</a></li>
    <li><a class="dropdown-item" href="../articles/table_css.html">Customize Table Appearance</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-articles"><li><a class="dropdown-item" href="../articles/sjtitemanalysis.html">Item Analysis of a Scale or an Index</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/strengejacke/sjPlot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot grouped proportional tables</h1>
      <small class="dont-index">Source: <a href="https://github.com/strengejacke/sjPlot/blob/master/R/plot_gpt.R" class="external-link"><code>R/plot_gpt.R</code></a></small>
      <div class="d-none name"><code>plot_gpt.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plot grouped proportional crosstables, where the proportion of
               each level of <code>x</code> for the highest category in <code>y</code>
               is plotted, for each subgroup of <code>grp</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_gpt</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">grp</span>,</span>
<span>  colors <span class="op">=</span> <span class="st">"metro"</span>,</span>
<span>  geom.size <span class="op">=</span> <span class="fl">2.5</span>,</span>
<span>  shape.fill.color <span class="op">=</span> <span class="st">"#f0f0f0"</span>,</span>
<span>  shapes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">16</span>, <span class="fl">17</span>, <span class="fl">18</span>, <span class="fl">21</span>, <span class="fl">22</span>, <span class="fl">23</span>, <span class="fl">24</span>, <span class="fl">25</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">12</span><span class="op">)</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  axis.labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  axis.titles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  wrap.title <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  wrap.labels <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  wrap.legend.title <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  wrap.legend.labels <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  axis.lim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  grid.breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  show.total <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  annotate.total <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show.p <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show.n <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame, or a grouped data frame.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Categorical variable, where the proportion of each category in
<code>x</code> for the highest category of <code>y</code> will be printed
along the x-axis.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>Categorical or numeric variable. If not a binary variable, <code>y</code>
will be recoded into a binary variable, dichtomized at the highest
category and all remaining categories.</p></dd>


<dt id="arg-grp">grp<a class="anchor" aria-label="anchor" href="#arg-grp"></a></dt>
<dd><p>Grouping variable, which will define the y-axis</p></dd>


<dt id="arg-colors">colors<a class="anchor" aria-label="anchor" href="#arg-colors"></a></dt>
<dd><p>May be a character vector of color values in hex-format, valid
color value names (see <code>demo("colors")</code>) or a name of a pre-defined
color palette. Following options are valid for the <code>colors</code> argument:</p><ul><li><p>If not specified, a default color brewer palette will be used, which is suitable for the plot style.</p></li>
<li><p>If <code>"gs"</code>, a greyscale will be used.</p></li>
<li><p>If <code>"bw"</code>, and plot-type is a line-plot, the plot is black/white and uses different line types to distinguish groups (see <a href="https://strengejacke.github.io/sjPlot/articles/blackwhitefigures.html">this package-vignette</a>).</p></li>
<li><p>If <code>colors</code> is any valid color brewer palette name, the related palette will be used. Use <code><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">RColorBrewer::display.brewer.all()</a></code> to view all available palette names.</p></li>
<li><p>There are some pre-defined color palettes in this package, see <code><a href="sjPlot-themes.html">sjPlot-themes</a></code> for details.</p></li>
<li><p>Else specify own color values or names as vector (e.g. <code>colors = "#00ff00"</code> or <code>colors = c("firebrick", "blue")</code>).</p></li>
</ul></dd>


<dt id="arg-geom-size">geom.size<a class="anchor" aria-label="anchor" href="#arg-geom-size"></a></dt>
<dd><p>size resp. width of the geoms (bar width, line thickness or point size,
depending on plot type and function). Note that bar and bin widths mostly
need smaller values than dot sizes.</p></dd>


<dt id="arg-shape-fill-color">shape.fill.color<a class="anchor" aria-label="anchor" href="#arg-shape-fill-color"></a></dt>
<dd><p>Optional color vector, fill-color for non-filled shapes</p></dd>


<dt id="arg-shapes">shapes<a class="anchor" aria-label="anchor" href="#arg-shapes"></a></dt>
<dd><p>Numeric vector with shape styles, used to map the different
categories of <code>x</code>.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Character vector, used as plot title. By default,
<code><a href="https://strengejacke.github.io/sjlabelled/reference/term_labels.html" class="external-link">response_labels</a></code> is called to retrieve the label of
the dependent variable, which will be used as title. Use <code>title = ""</code>
to remove title.</p></dd>


<dt id="arg-axis-labels">axis.labels<a class="anchor" aria-label="anchor" href="#arg-axis-labels"></a></dt>
<dd><p>character vector with labels used as axis labels. Optional
argument, since in most cases, axis labels are set automatically.</p></dd>


<dt id="arg-axis-titles">axis.titles<a class="anchor" aria-label="anchor" href="#arg-axis-titles"></a></dt>
<dd><p>character vector of length one or two, defining the title(s)
for the x-axis and y-axis.</p></dd>


<dt id="arg-legend-title">legend.title<a class="anchor" aria-label="anchor" href="#arg-legend-title"></a></dt>
<dd><p>Character vector, used as legend title for plots that
have a legend.</p></dd>


<dt id="arg-legend-labels">legend.labels<a class="anchor" aria-label="anchor" href="#arg-legend-labels"></a></dt>
<dd><p>character vector with labels for the guide/legend.</p></dd>


<dt id="arg-wrap-title">wrap.title<a class="anchor" aria-label="anchor" href="#arg-wrap-title"></a></dt>
<dd><p>Numeric, determines how many chars of the plot title are
displayed in one line and when a line break is inserted.</p></dd>


<dt id="arg-wrap-labels">wrap.labels<a class="anchor" aria-label="anchor" href="#arg-wrap-labels"></a></dt>
<dd><p>numeric, determines how many chars of the value, variable or axis
labels are displayed in one line and when a line break is inserted.</p></dd>


<dt id="arg-wrap-legend-title">wrap.legend.title<a class="anchor" aria-label="anchor" href="#arg-wrap-legend-title"></a></dt>
<dd><p>numeric, determines how many chars of the legend's title
are displayed in one line and when a line break is inserted.</p></dd>


<dt id="arg-wrap-legend-labels">wrap.legend.labels<a class="anchor" aria-label="anchor" href="#arg-wrap-legend-labels"></a></dt>
<dd><p>numeric, determines how many chars of the legend labels are
displayed in one line and when a line break is inserted.</p></dd>


<dt id="arg-axis-lim">axis.lim<a class="anchor" aria-label="anchor" href="#arg-axis-lim"></a></dt>
<dd><p>Numeric vector of length 2, defining the range of the plot axis.
Depending on plot type, may effect either x- or y-axis, or both.
For multiple plot outputs (e.g., from <code>type = "eff"</code> or
<code>type = "slope"</code> in <code><a href="plot_model.html">plot_model</a></code>), <code>axis.lim</code> may
also be a list of vectors of length 2, defining axis limits for each
plot (only if non-faceted).</p></dd>


<dt id="arg-grid-breaks">grid.breaks<a class="anchor" aria-label="anchor" href="#arg-grid-breaks"></a></dt>
<dd><p>numeric; sets the distance between breaks for the axis,
i.e. at every <code>grid.breaks</code>'th position a major grid is being printed.</p></dd>


<dt id="arg-show-total">show.total<a class="anchor" aria-label="anchor" href="#arg-show-total"></a></dt>
<dd><p>Logical, if <code>TRUE</code>, a total summary line for all aggregated
<code>grp</code> is added.</p></dd>


<dt id="arg-annotate-total">annotate.total<a class="anchor" aria-label="anchor" href="#arg-annotate-total"></a></dt>
<dd><p>Logical, if <code>TRUE</code> and <code>show.total = TRUE</code>,
the total-row in the figure will be highlighted with a slightly
shaded background.</p></dd>


<dt id="arg-show-p">show.p<a class="anchor" aria-label="anchor" href="#arg-show-p"></a></dt>
<dd><p>Logical, adds significance levels to values, or value and
variable labels.</p></dd>


<dt id="arg-show-n">show.n<a class="anchor" aria-label="anchor" href="#arg-show-n"></a></dt>
<dd><p>logical, if <code>TRUE</code>, adds total number of cases for each
group or category to the labels.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ggplot-object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The p-values are based on <code><a href="https://rdrr.io/r/stats/chisq.test.html" class="external-link">chisq.test</a></code> of <code>x</code>
           and <code>y</code> for each <code>grp</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"haven"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># the proportion of dependency levels in female</span></span></span>
<span class="r-in"><span>  <span class="co"># elderly, for each family carer's relationship</span></span></span>
<span class="r-in"><span>  <span class="co"># to elderly</span></span></span>
<span class="r-in"><span>  <span class="fu">plot_gpt</span><span class="op">(</span><span class="va">efc</span>, <span class="va">e42dep</span>, <span class="va">e16sex</span>, <span class="va">e15relat</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># proportion of educational levels in highest</span></span></span>
<span class="r-in"><span>  <span class="co"># dependency category of elderly, for different</span></span></span>
<span class="r-in"><span>  <span class="co"># care levels</span></span></span>
<span class="r-in"><span>  <span class="fu">plot_gpt</span><span class="op">(</span><span class="va">efc</span>, <span class="va">c172code</span>, <span class="va">e42dep</span>, <span class="va">n4pstu</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="plot_gpt-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

