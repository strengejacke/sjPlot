<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot contingency tables — plot_xtab • sjPlot</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot contingency tables — plot_xtab"><meta name="description" content="Plot proportional crosstables (contingency tables) of two variables as ggplot diagram."><meta property="og:description" content="Plot proportional crosstables (contingency tables) of two variables as ggplot diagram."><meta property="og:image" content="https://strengejacke.github.io/sjPlot/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sjPlot</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.8.16.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-regression-tables" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Regression Tables</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-regression-tables"><li><a class="dropdown-item" href="../articles/tab_model_estimates.html">Classical Regression Models as HTML Table</a></li>
    <li><a class="dropdown-item" href="../articles/tab_mixed.html">Mixed Models as HTML Table</a></li>
    <li><a class="dropdown-item" href="../articles/tab_bayes.html">Bayesian Models as HTML Table</a></li>
    <li><a class="dropdown-item" href="../articles/tab_model_robust.html">Robust Estimation of Standard Errors, Confidence Intervals and p-values</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-regression-plots" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Regression Plots</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-regression-plots"><li><a class="dropdown-item" href="../articles/plot_model_estimates.html">Plotting Regression Coefficients</a></li>
    <li><a class="dropdown-item" href="../articles/plot_marginal_effects.html">Plotting Marginal Effects</a></li>
    <li><a class="dropdown-item" href="../articles/plot_interactions.html">Plotting Marginal Effects of Interactions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-plot-and-table-customization" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Plot and Table Customization</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-plot-and-table-customization"><li><a class="dropdown-item" href="../articles/blackwhitefigures.html">Creating Black and White Figures</a></li>
    <li><a class="dropdown-item" href="../articles/custplot.html">Customize Plot Appearance</a></li>
    <li><a class="dropdown-item" href="../articles/table_css.html">Customize Table Appearance</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-articles"><li><a class="dropdown-item" href="../articles/sjtitemanalysis.html">Item Analysis of a Scale or an Index</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/strengejacke/sjPlot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot contingency tables</h1>
      <small class="dont-index">Source: <a href="https://github.com/strengejacke/sjPlot/blob/master/R/plot_xtab.R" class="external-link"><code>R/plot_xtab.R</code></a></small>
      <div class="d-none name"><code>plot_xtab.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plot proportional crosstables (contingency tables) of two variables as ggplot diagram.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_xtab</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">grp</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bar"</span>, <span class="st">"line"</span><span class="op">)</span>,</span>
<span>  margin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"col"</span>, <span class="st">"cell"</span>, <span class="st">"row"</span><span class="op">)</span>,</span>
<span>  bar.pos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dodge"</span>, <span class="st">"stack"</span><span class="op">)</span>,</span>
<span>  title <span class="op">=</span> <span class="st">""</span>,</span>
<span>  title.wtd.suffix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  axis.titles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  axis.labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weight.by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rev.order <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show.values <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show.n <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show.prc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show.total <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show.legend <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show.summary <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  summary.pos <span class="op">=</span> <span class="st">"r"</span>,</span>
<span>  drop.empty <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  string.total <span class="op">=</span> <span class="st">"Total"</span>,</span>
<span>  wrap.title <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  wrap.labels <span class="op">=</span> <span class="fl">15</span>,</span>
<span>  wrap.legend.title <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  wrap.legend.labels <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  geom.size <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  geom.spacing <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  geom.colors <span class="op">=</span> <span class="st">"Paired"</span>,</span>
<span>  dot.size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  smooth.lines <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  grid.breaks <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  expand.grid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vjust <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>  hjust <span class="op">=</span> <span class="st">"center"</span>,</span>
<span>  y.offset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  coord.flip <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A vector of values (variable) describing the bars which make up the plot.</p></dd>


<dt id="arg-grp">grp<a class="anchor" aria-label="anchor" href="#arg-grp"></a></dt>
<dd><p>Grouping variable of same length as <code>x</code>, where <code>x</code>
is grouped into the categories represented by <code>grp</code>.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Plot type. may be either <code>"bar"</code> (default) for bar charts,
or <code>"line"</code> for line diagram.</p></dd>


<dt id="arg-margin">margin<a class="anchor" aria-label="anchor" href="#arg-margin"></a></dt>
<dd><p>Indicates which data of the proportional table should be plotted. Use <code>"row"</code> for
calculating row percentages, <code>"col"</code> for column percentages and <code>"cell"</code> for cell percentages.
If <code>margin = "col"</code>, an additional bar with the total sum of each column
can be added to the plot (see <code>show.total</code>).</p></dd>


<dt id="arg-bar-pos">bar.pos<a class="anchor" aria-label="anchor" href="#arg-bar-pos"></a></dt>
<dd><p>Indicates whether bars should be positioned side-by-side (default),
or stacked (<code>bar.pos = "stack"</code>). May be abbreviated.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>character vector, used as plot title. Depending on plot type and function,
will be set automatically. If <code>title = ""</code>, no title is printed.
For effect-plots, may also be a character vector of length &gt; 1,
to define titles for each sub-plot or facet.</p></dd>


<dt id="arg-title-wtd-suffix">title.wtd.suffix<a class="anchor" aria-label="anchor" href="#arg-title-wtd-suffix"></a></dt>
<dd><p>Suffix (as string) for the title, if <code>weight.by</code> is specified,
e.g. <code>title.wtd.suffix=" (weighted)"</code>. Default is <code>NULL</code>, so
title will not have a suffix when cases are weighted.</p></dd>


<dt id="arg-axis-titles">axis.titles<a class="anchor" aria-label="anchor" href="#arg-axis-titles"></a></dt>
<dd><p>character vector of length one or two, defining the title(s)
for the x-axis and y-axis.</p></dd>


<dt id="arg-axis-labels">axis.labels<a class="anchor" aria-label="anchor" href="#arg-axis-labels"></a></dt>
<dd><p>character vector with labels used as axis labels. Optional
argument, since in most cases, axis labels are set automatically.</p></dd>


<dt id="arg-legend-title">legend.title<a class="anchor" aria-label="anchor" href="#arg-legend-title"></a></dt>
<dd><p>character vector, used as title for the plot legend.</p></dd>


<dt id="arg-legend-labels">legend.labels<a class="anchor" aria-label="anchor" href="#arg-legend-labels"></a></dt>
<dd><p>character vector with labels for the guide/legend.</p></dd>


<dt id="arg-weight-by">weight.by<a class="anchor" aria-label="anchor" href="#arg-weight-by"></a></dt>
<dd><p>Vector of weights that will be applied to weight all cases.
Must be a vector of same length as the input vector. Default is
<code>NULL</code>, so no weights are used.</p></dd>


<dt id="arg-rev-order">rev.order<a class="anchor" aria-label="anchor" href="#arg-rev-order"></a></dt>
<dd><p>Logical, if <code>TRUE</code>, order of categories (groups) is reversed.</p></dd>


<dt id="arg-show-values">show.values<a class="anchor" aria-label="anchor" href="#arg-show-values"></a></dt>
<dd><p>Logical, whether values should be plotted or not.</p></dd>


<dt id="arg-show-n">show.n<a class="anchor" aria-label="anchor" href="#arg-show-n"></a></dt>
<dd><p>logical, if <code>TRUE</code>, adds total number of cases for each
group or category to the labels.</p></dd>


<dt id="arg-show-prc">show.prc<a class="anchor" aria-label="anchor" href="#arg-show-prc"></a></dt>
<dd><p>logical, if <code>TRUE</code> (default), percentage values are plotted to each bar
If <code>FALSE</code>, percentage values are removed.</p></dd>


<dt id="arg-show-total">show.total<a class="anchor" aria-label="anchor" href="#arg-show-total"></a></dt>
<dd><p>When <code>margin = "col"</code>, an additional bar
with the sum within each category and it's percentages will be added
to each category.</p></dd>


<dt id="arg-show-legend">show.legend<a class="anchor" aria-label="anchor" href="#arg-show-legend"></a></dt>
<dd><p>logical, if <code>TRUE</code>, and depending on plot type and
function, a legend is added to the plot.</p></dd>


<dt id="arg-show-summary">show.summary<a class="anchor" aria-label="anchor" href="#arg-show-summary"></a></dt>
<dd><p>logical, if <code>TRUE</code> (default), a summary with chi-squared
statistics (see <code><a href="https://rdrr.io/r/stats/chisq.test.html" class="external-link">chisq.test</a></code>), Cramer's V or Phi-value etc.
is shown. If a cell contains expected values lower than five (or lower than 10
if df is 1), the Fisher's exact test (see <code><a href="https://rdrr.io/r/stats/fisher.test.html" class="external-link">fisher.test</a></code>) is
computed instead of chi-squared test. If the table's matrix is larger
than 2x2, Fisher's exact test with Monte Carlo simulation is computed.</p></dd>


<dt id="arg-summary-pos">summary.pos<a class="anchor" aria-label="anchor" href="#arg-summary-pos"></a></dt>
<dd><p>position of the model summary which is printed when <code>show.summary</code>
is <code>TRUE</code>. Default is <code>"r"</code>, i.e. it's printed to the upper right corner.
Use <code>"l"</code> for upper left corner.</p></dd>


<dt id="arg-drop-empty">drop.empty<a class="anchor" aria-label="anchor" href="#arg-drop-empty"></a></dt>
<dd><p>Logical, if <code>TRUE</code> and the variable's values are labeled, values / factor
levels with no occurrence in the data are omitted from the output. If <code>FALSE</code>,
labeled values that have no observations are still printed in the table (with frequency <code>0</code>).</p></dd>


<dt id="arg-string-total">string.total<a class="anchor" aria-label="anchor" href="#arg-string-total"></a></dt>
<dd><p>String for the legend label when a total-column is added. Only applies
if <code>show.total = TRUE</code>. Default is <code>"Total"</code>.</p></dd>


<dt id="arg-wrap-title">wrap.title<a class="anchor" aria-label="anchor" href="#arg-wrap-title"></a></dt>
<dd><p>numeric, determines how many chars of the plot title are displayed in
one line and when a line break is inserted.</p></dd>


<dt id="arg-wrap-labels">wrap.labels<a class="anchor" aria-label="anchor" href="#arg-wrap-labels"></a></dt>
<dd><p>numeric, determines how many chars of the value, variable or axis
labels are displayed in one line and when a line break is inserted.</p></dd>


<dt id="arg-wrap-legend-title">wrap.legend.title<a class="anchor" aria-label="anchor" href="#arg-wrap-legend-title"></a></dt>
<dd><p>numeric, determines how many chars of the legend's title
are displayed in one line and when a line break is inserted.</p></dd>


<dt id="arg-wrap-legend-labels">wrap.legend.labels<a class="anchor" aria-label="anchor" href="#arg-wrap-legend-labels"></a></dt>
<dd><p>numeric, determines how many chars of the legend labels are
displayed in one line and when a line break is inserted.</p></dd>


<dt id="arg-geom-size">geom.size<a class="anchor" aria-label="anchor" href="#arg-geom-size"></a></dt>
<dd><p>size resp. width of the geoms (bar width, line thickness or point size,
depending on plot type and function). Note that bar and bin widths mostly
need smaller values than dot sizes.</p></dd>


<dt id="arg-geom-spacing">geom.spacing<a class="anchor" aria-label="anchor" href="#arg-geom-spacing"></a></dt>
<dd><p>the spacing between geoms (i.e. bar spacing)</p></dd>


<dt id="arg-geom-colors">geom.colors<a class="anchor" aria-label="anchor" href="#arg-geom-colors"></a></dt>
<dd><p>user defined color for geoms. See 'Details' in <code><a href="plot_grpfrq.html">plot_grpfrq</a></code>.</p></dd>


<dt id="arg-dot-size">dot.size<a class="anchor" aria-label="anchor" href="#arg-dot-size"></a></dt>
<dd><p>Dot size, only applies, when argument <code>type = "line"</code>.</p></dd>


<dt id="arg-smooth-lines">smooth.lines<a class="anchor" aria-label="anchor" href="#arg-smooth-lines"></a></dt>
<dd><p>prints a smooth line curve. Only applies, when argument <code>type = "line"</code>.</p></dd>


<dt id="arg-grid-breaks">grid.breaks<a class="anchor" aria-label="anchor" href="#arg-grid-breaks"></a></dt>
<dd><p>numeric; sets the distance between breaks for the axis,
i.e. at every <code>grid.breaks</code>'th position a major grid is being printed.</p></dd>


<dt id="arg-expand-grid">expand.grid<a class="anchor" aria-label="anchor" href="#arg-expand-grid"></a></dt>
<dd><p>logical, if <code>TRUE</code>, the plot grid is expanded, i.e. there is a small margin between
axes and plotting region. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-ylim">ylim<a class="anchor" aria-label="anchor" href="#arg-ylim"></a></dt>
<dd><p>numeric vector of length two, defining lower and upper axis limits
of the y scale. By default, this argument is set to <code>NULL</code>, i.e. the
y-axis fits to the required range of the data.</p></dd>


<dt id="arg-vjust">vjust<a class="anchor" aria-label="anchor" href="#arg-vjust"></a></dt>
<dd><p>character vector, indicating the vertical position of value
labels. Allowed are same values as for <code>vjust</code> aesthetics from
<code>ggplot2</code>: "left", "center", "right", "bottom", "middle", "top" and
new options like "inward" and "outward", which align text towards and
away from the center of the plot respectively.</p></dd>


<dt id="arg-hjust">hjust<a class="anchor" aria-label="anchor" href="#arg-hjust"></a></dt>
<dd><p>character vector, indicating the horizontal position of value
labels. Allowed are same values as for <code>vjust</code> aesthetics from
<code>ggplot2</code>: "left", "center", "right", "bottom", "middle", "top" and
new options like "inward" and "outward", which align text towards and
away from the center of the plot respectively.</p></dd>


<dt id="arg-y-offset">y.offset<a class="anchor" aria-label="anchor" href="#arg-y-offset"></a></dt>
<dd><p>numeric, offset for text labels when their alignment is adjusted
to the top/bottom of the geom (see <code>hjust</code> and <code>vjust</code>).</p></dd>


<dt id="arg-coord-flip">coord.flip<a class="anchor" aria-label="anchor" href="#arg-coord-flip"></a></dt>
<dd><p>logical, if <code>TRUE</code>, the x and y axis are swapped.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ggplot-object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create 4-category-items</span></span></span>
<span class="r-in"><span><span class="va">grp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># create 3-category-items</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot "cross tablulation" of x and grp</span></span></span>
<span class="r-in"><span><span class="fu">plot_xtab</span><span class="op">(</span><span class="va">x</span>, <span class="va">grp</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_xtab-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot "cross tablulation" of x and y, including labels</span></span></span>
<span class="r-in"><span><span class="fu">plot_xtab</span><span class="op">(</span><span class="va">x</span>, <span class="va">grp</span>, axis.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"mid"</span>, <span class="st">"high"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>         legend.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Grp 1"</span>, <span class="st">"Grp 2"</span>, <span class="st">"Grp 3"</span>, <span class="st">"Grp 4"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_xtab-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot "cross tablulation" of x and grp</span></span></span>
<span class="r-in"><span><span class="co"># as stacked proportional bars</span></span></span>
<span class="r-in"><span><span class="fu">plot_xtab</span><span class="op">(</span><span class="va">x</span>, <span class="va">grp</span>, margin <span class="op">=</span> <span class="st">"row"</span>, bar.pos <span class="op">=</span> <span class="st">"stack"</span>,</span></span>
<span class="r-in"><span>         show.summary <span class="op">=</span> <span class="cn">TRUE</span>, coord.flip <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Chi-squared approximation may be incorrect</span>
<span class="r-plt img"><img src="plot_xtab-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example with vertical labels</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://strengejacke.github.io/sjmisc/" class="external-link">sjmisc</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://strengejacke.github.io/sjlabelled/" class="external-link">sjlabelled</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="set_theme.html">set_theme</a></span><span class="op">(</span>geom.label.angle <span class="op">=</span> <span class="fl">90</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_xtab</span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, <span class="va">efc</span><span class="op">$</span><span class="va">e16sex</span>, vjust <span class="op">=</span> <span class="st">"center"</span>, hjust <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_xtab-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># grouped bars with EUROFAMCARE sample dataset</span></span></span>
<span class="r-in"><span><span class="co"># dataset was importet from an SPSS-file,</span></span></span>
<span class="r-in"><span><span class="co"># see ?sjmisc::read_spss</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">efc.val</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/get_labels.html" class="external-link">get_labels</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">efc.var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/get_label.html" class="external-link">get_label</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plot_xtab</span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, <span class="va">efc</span><span class="op">$</span><span class="va">e16sex</span>, title <span class="op">=</span> <span class="va">efc.var</span><span class="op">[</span><span class="st">'e42dep'</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>         axis.labels <span class="op">=</span> <span class="va">efc.val</span><span class="op">[[</span><span class="st">'e42dep'</span><span class="op">]</span><span class="op">]</span>, legend.title <span class="op">=</span> <span class="va">efc.var</span><span class="op">[</span><span class="st">'e16sex'</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>         legend.labels <span class="op">=</span> <span class="va">efc.val</span><span class="op">[[</span><span class="st">'e16sex'</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_xtab-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plot_xtab</span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e16sex</span>, <span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, title <span class="op">=</span> <span class="va">efc.var</span><span class="op">[</span><span class="st">'e16sex'</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>         axis.labels <span class="op">=</span> <span class="va">efc.val</span><span class="op">[[</span><span class="st">'e16sex'</span><span class="op">]</span><span class="op">]</span>, legend.title <span class="op">=</span> <span class="va">efc.var</span><span class="op">[</span><span class="st">'e42dep'</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>         legend.labels <span class="op">=</span> <span class="va">efc.val</span><span class="op">[[</span><span class="st">'e42dep'</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_xtab-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># -------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># auto-detection of labels works here</span></span></span>
<span class="r-in"><span><span class="co"># so no need to specify labels. For</span></span></span>
<span class="r-in"><span><span class="co"># title-auto-detection, use NULL</span></span></span>
<span class="r-in"><span><span class="co"># -------------------------------</span></span></span>
<span class="r-in"><span><span class="fu">plot_xtab</span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e16sex</span>, <span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, title <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_xtab-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plot_xtab</span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e16sex</span>, <span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, margin <span class="op">=</span> <span class="st">"row"</span>,</span></span>
<span class="r-in"><span>         bar.pos <span class="op">=</span> <span class="st">"stack"</span>, coord.flip <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_xtab-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

